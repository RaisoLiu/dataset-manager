# 測試項目說明

本文件描述了 `dataset-manager` 專案的測試項目。

## 測試環境設置

測試使用 `pytest` 框架，所有測試檔案位於 `tests` 目錄下。

## 測試項目列表

### 1. 基本功能測試

#### 1.1 生成校驗文件測試 (`test_generate_checksum`)
- 測試生成校驗文件的基本功能
- 驗證校驗文件是否存在
- 驗證校驗文件中的條目數量
- 驗證每條校驗記錄的格式是否正確

#### 1.2 自定義路徑生成校驗文件測試 (`test_generate_checksum_custom_path`)
- 測試在自定義路徑生成校驗文件
- 驗證校驗文件是否在指定位置生成
- 驗證生成路徑是否正確

### 2. 資料集驗證測試

#### 2.1 完整資料集驗證測試 (`test_verify_dataset_valid`)
- 測試驗證完整且未修改的資料集
- 驗證校驗結果是否為有效
- 驗證是否沒有錯誤訊息

#### 2.2 缺失檔案驗證測試 (`test_verify_dataset_missing_file`)
- 測試驗證有檔案缺失的資料集
- 驗證校驗結果是否為無效
- 驗證錯誤訊息是否正確顯示缺失檔案

#### 2.3 修改檔案驗證測試 (`test_verify_dataset_modified_file`)
- 測試驗證有檔案被修改的資料集
- 驗證校驗結果是否為無效
- 驗證錯誤訊息是否正確顯示 hash 不匹配

#### 2.4 自定義校驗文件驗證測試 (`test_verify_dataset_custom_checksum`)
- 測試使用自定義路徑的校驗文件進行驗證
- 驗證校驗結果是否正確
- 驗證是否支援自定義校驗文件路徑

#### 2.5 額外檔案驗證測試 (`test_verify_dataset_extra_files`)
- 測試驗證包含額外檔案的資料集
- 驗證在根目錄添加額外檔案的情況
- 驗證在子目錄添加額外檔案的情況
- 驗證額外檔案不影響校驗結果

## 測試覆蓋範圍

目前的測試覆蓋了以下場景：
- 正常使用情況
- 檔案缺失情況
- 檔案被修改情況
- 額外檔案存在情況
- 自定義校驗文件路徑情況

## 執行測試

要執行所有測試，請使用以下命令：

```bash
pytest
```

要查看詳細的測試輸出，可以使用：

```bash
pytest -v
```

## 測試環境清理

所有測試都使用臨時目錄進行，測試完成後會自動清理。不需要手動清理測試環境。 